{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mc/Desktop/The_Odin_Project/react/notely/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mc/Desktop/The_Odin_Project/react/notely/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{collection,addDoc,doc,setDoc}from'firebase/firestore';import{firestore,auth}from'../firebase';var createCollectionForUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var user,userId,collectionName,newCollectionRef,newDocRef;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;user=auth.currentUser;userId=user.uid;collectionName=\"UserNotes_\".concat(userId);// Create a unique collection name for each user\nnewCollectionRef=collection(firestore,collectionName);newDocRef=doc(collection(firestore,collectionName));_context.next=8;return setDoc(newDocRef,{id:newDocRef.id,// Document ID as a field\ntitle:'WELCOME NOTE'});case 8:console.log('Collection created for user:',userId);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error('Error creating collection for user:',_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function createCollectionForUser(){return _ref.apply(this,arguments);};}();export default createCollectionForUser;","map":{"version":3,"names":["collection","addDoc","doc","setDoc","firestore","auth","createCollectionForUser","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","user","userId","collectionName","newCollectionRef","newDocRef","wrap","_callee$","_context","prev","next","currentUser","uid","concat","id","title","console","log","t0","error","stop","apply","arguments"],"sources":["/Users/mc/Desktop/The_Odin_Project/react/notely/src/Components/CreateCollection.js"],"sourcesContent":["import { collection, addDoc, doc, setDoc } from 'firebase/firestore';\nimport { firestore, auth } from '../firebase';\n\nconst createCollectionForUser = async () => {\n  try {\n    const user = auth.currentUser;\n    const userId = user.uid;\n    const collectionName = `UserNotes_${userId}`; // Create a unique collection name for each user\n\n    const newCollectionRef = collection(firestore, collectionName);\n    const newDocRef = doc(collection(firestore, collectionName));\n    \n    await setDoc(newDocRef, {\n      id: newDocRef.id, // Document ID as a field\n      title: 'WELCOME NOTE'\n    });\n\n    console.log('Collection created for user:', userId);\n  } catch (error) {\n    console.error('Error creating collection for user:', error);\n  }\n};\n\nexport default createCollectionForUser;"],"mappings":"0RAAA,OAASA,UAAU,CAAEC,MAAM,CAAEC,GAAG,CAAEC,MAAM,KAAQ,oBAAoB,CACpE,OAASC,SAAS,CAAEC,IAAI,KAAQ,aAAa,CAE7C,GAAM,CAAAC,uBAAuB,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,IAAA,CAAAC,MAAA,CAAAC,cAAA,CAAAC,gBAAA,CAAAC,SAAA,QAAAP,mBAAA,GAAAQ,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAEtBR,IAAI,CAAGP,IAAI,CAACiB,WAAW,CACvBT,MAAM,CAAGD,IAAI,CAACW,GAAG,CACjBT,cAAc,cAAAU,MAAA,CAAgBX,MAAM,EAAI;AAExCE,gBAAgB,CAAGf,UAAU,CAACI,SAAS,CAAEU,cAAc,CAAC,CACxDE,SAAS,CAAGd,GAAG,CAACF,UAAU,CAACI,SAAS,CAAEU,cAAc,CAAC,CAAC,CAAAK,QAAA,CAAAE,IAAA,SAEtD,CAAAlB,MAAM,CAACa,SAAS,CAAE,CACtBS,EAAE,CAAET,SAAS,CAACS,EAAE,CAAE;AAClBC,KAAK,CAAE,cACT,CAAC,CAAC,QAEFC,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAEf,MAAM,CAAC,CAACM,QAAA,CAAAE,IAAA,kBAAAF,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAU,EAAA,CAAAV,QAAA,aAEpDQ,OAAO,CAACG,KAAK,CAAC,qCAAqC,CAAAX,QAAA,CAAAU,EAAA,CAAQ,CAAC,yBAAAV,QAAA,CAAAY,IAAA,MAAApB,OAAA,iBAE/D,kBAlBK,CAAAL,uBAAuBA,CAAA,SAAAC,IAAA,CAAAyB,KAAA,MAAAC,SAAA,OAkB5B,CAED,cAAe,CAAA3B,uBAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}