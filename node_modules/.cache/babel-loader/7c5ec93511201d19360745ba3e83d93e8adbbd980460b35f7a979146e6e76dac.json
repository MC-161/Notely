{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mc/Desktop/The_Odin_Project/react/notely/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mc/Desktop/The_Odin_Project/react/notely/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mc/Desktop/The_Odin_Project/react/notely/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{collection,getDocs}from'firebase/firestore';import{firestore}from'./index';// Path to your index.js file\nvar useFetch=function useFetch(){var id=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'defaultValue';var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isPending=_useState4[0],setIsPending=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){var fetchNotes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var db,collectionName,documentId,documentRef,notesSnapshot,fetchedNotes;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!id){_context.next=11;break;}db=firebase.firestore();collectionName='Notes';documentId=id;documentRef=db.collection(collectionName).doc(documentId);// Retrieve the document data\ndocumentRef.get().then(function(doc){if(doc.exists){// Document data exists\nvar data=doc.data();// Handle the data as needed\nconsole.log('Document data:',data);}else{// Document doesn't exist\nconsole.log('Document not found!');}}).catch(function(error){console.log('Error getting document:',error);});setIsPending(false);setError(null);_context.next=19;break;case 11:_context.next=13;return getDocs(collection(firestore,'Notes'));case 13:notesSnapshot=_context.sent;fetchedNotes=notesSnapshot.docs.map(function(doc){return doc.data();});console.log(fetchedNotes);setNotes(fetchedNotes);setIsPending(false);setError(null);case 19:_context.next=26;break;case 21:_context.prev=21;_context.t0=_context[\"catch\"](0);console.error('Error fetching notes: ',_context.t0);setIsPending(false);setError(_context.t0.message);case 26:case\"end\":return _context.stop();}},_callee,null,[[0,21]]);}));return function fetchNotes(){return _ref.apply(this,arguments);};}();fetchNotes();},[]);return{notes:notes,isPending:isPending,error:error};};export default useFetch;","map":{"version":3,"names":["useState","useEffect","collection","getDocs","firestore","useFetch","id","arguments","length","undefined","_useState","_useState2","_slicedToArray","notes","setNotes","_useState3","_useState4","isPending","setIsPending","_useState5","_useState6","error","setError","fetchNotes","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","db","collectionName","documentId","documentRef","notesSnapshot","fetchedNotes","wrap","_callee$","_context","prev","next","firebase","doc","get","then","exists","data","console","log","catch","sent","docs","map","t0","message","stop","apply"],"sources":["/Users/mc/Desktop/The_Odin_Project/react/notely/src/useFetch.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { collection, getDocs } from 'firebase/firestore';\nimport { firestore } from './index'; // Path to your index.js file\n\nconst useFetch = (id = 'defaultValue') => {\n  const [notes, setNotes] = useState([]);\n  const [isPending, setIsPending] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchNotes = async () => {\n      try {\n        if(id){\n          const db = firebase.firestore();\n          const collectionName = 'Notes';\n          const documentId = id;\n          const documentRef = db.collection(collectionName).doc(documentId);\n          // Retrieve the document data\n          documentRef.get()\n            .then((doc) => {\n              if (doc.exists) {\n                // Document data exists\n                const data = doc.data();\n                // Handle the data as needed\n                console.log('Document data:', data);\n              } else {\n                // Document doesn't exist\n                console.log('Document not found!');\n              }\n            })\n            .catch((error) => {\n              console.log('Error getting document:', error);\n            });          \n          setIsPending(false);\n          setError(null);\n\n        }else{\n          const notesSnapshot = await getDocs(collection(firestore, 'Notes'));\n          const fetchedNotes = notesSnapshot.docs.map(doc => doc.data());\n          console.log(fetchedNotes)\n          setNotes(fetchedNotes);\n          setIsPending(false);\n          setError(null);\n        }\n      } catch (error) {\n        console.error('Error fetching notes: ', error);\n        setIsPending(false);\n        setError(error.message);\n      }\n    };\n\n    fetchNotes();\n  }, []);\n\n  return { notes, isPending, error };\n}\n \nexport default useFetch;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}